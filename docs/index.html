<head>
  <script type="module" crossorigin src="/webgGPU/docs/assets/main-Cfpf5Yo0.js"></script>
</head>
<body>
    <div style="display: flex;">
        <canvas id="result_canvas" style="flex: 1;"></canvas>
        <div style="flex: 1;">
            <div id="dragElement" style="position: absolute; top: 600px; left: 100px; width: 10px; height: 10px; background-color: blue; border-radius: 50%; cursor: move;"></div>
            window size: <input id="windowSize" type="number" min="0" max="1" step="0.1" style=" margin: 10px;" value="0.2" />
            window height: <input id="windowHeight" type="number" min="0" max="1" step="0.1" style="margin: 10px;" value="0.2" />
            reflectivity: <input id="reflectivityInput" type="number" min="0" max="1" step="0.1" style="margin: 10px;" value="0.5" />
            <br/>
            max bounces: <input id="maxBouncesInput" type="number" min="0" max="10" step="1" style="margin: 10px;" value="6" />
            <br>
            Pull the blue point to move change the shape
        </div>
    </div>

</div>
    <script>
        const dragElement = document.getElementById("dragElement");
        let offsetX, offsetY;
        let newX, newY
        dragElement.addEventListener("mousedown", startDrag);

        function startDrag(event) {
            console.log("started drag")
            offsetX = event.clientX - dragElement.offsetLeft;
            offsetY = event.clientY - dragElement.offsetTop;
            document.addEventListener("mousemove", moveElement);
            document.addEventListener("mouseup", stopDrag);
        }

        function moveElement(event) {
            newX = event.clientX - offsetX
            newY = event.clientY - offsetY
            dragElement.style.left = newX + "px";
            dragElement.style.top = newY + "px";
            window.updateCoordinate(newX,newY)
        }
        
        function stopDrag() {
            document.removeEventListener("mousemove", moveElement);
            document.removeEventListener("mouseup", stopDrag);
        }
    </script>
  <canvas id="result_canvas" />
</body>
