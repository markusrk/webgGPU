<head>
  <script type="module" src="src/main.ts"></script>
</head>
<body>
    <div id="dragElement" style="position: absolute; top: 600px; left: 100px; width: 10px; height: 10px; background-color: blue; border-radius: 50%; cursor: move;"></div>
    <input id="windowSize" type="number" min="0" max="500" step="10" style="position: absolute; top: 0; right: 0; margin: 10px;" value="50" />

    <script>
        const dragElement = document.getElementById("dragElement");
        let offsetX, offsetY;
        let newX, newY
        dragElement.addEventListener("mousedown", startDrag);

        function startDrag(event) {
            console.log("started drag")
            offsetX = event.clientX - dragElement.offsetLeft;
            offsetY = event.clientY - dragElement.offsetTop;
            document.addEventListener("mousemove", moveElement);
            document.addEventListener("mouseup", stopDrag);
        }

        function moveElement(event) {
            newX = event.clientX - offsetX
            newY = event.clientY - offsetY
            dragElement.style.left = newX + "px";
            dragElement.style.top = newY + "px";
            window.updateCoordinate(newX,newY)
        }
        
        function stopDrag() {
            document.removeEventListener("mousemove", moveElement);
            document.removeEventListener("mouseup", stopDrag);
        }
    </script>
  <canvas id="result_canvas" />
</body>
